exports.id=999,exports.ids=[999],exports.modules={4999:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CrisisCenterModule:()=>CrisisCenterModule});var common=__webpack_require__(8583),router=__webpack_require__(4096),auth_guard=__webpack_require__(5583),of=__webpack_require__(5917),empty=__webpack_require__(9193),take=__webpack_require__(5257),switchMap=__webpack_require__(3190),core=__webpack_require__(8720);const CRISES=[{id:1,name:"Dragon Burning Cities"},{id:2,name:"Sky Rains Great White Sharks"},{id:3,name:"Giant Asteroid Heading For Earth"},{id:4,name:"Procrastinators Meeting Delayed Again"}];class MessageService{constructor(){this.messages=[]}add(message){this.messages.push(message)}clear(){this.messages=[]}}MessageService.\u0275fac=function MessageService_Factory(t){return new(t||MessageService)},MessageService.\u0275prov=core.Yz7({token:MessageService,factory:MessageService.\u0275fac,providedIn:"root"});class CrisisService{constructor(messageService){this.messageService=messageService}getCrisises(){const crises=(0,of.of)(CRISES);return this.messageService.add("CrisisService: fetched crises"),crises}getCrisis(id){const hero=(0,of.of)(CRISES.find(e=>e.id===id));return this.messageService.add("CrisisService: select hero"),hero}}CrisisService.\u0275fac=function CrisisService_Factory(t){return new(t||CrisisService)(core.LFG(MessageService))},CrisisService.\u0275prov=core.Yz7({token:CrisisService,factory:CrisisService.\u0275fac,providedIn:"root"});class CrisisDetailResolverService{constructor(router,crisisservice){this.router=router,this.crisisservice=crisisservice}resolve(route,state){const id=route.paramMap.get("id");return this.crisisservice.getCrisis(Number(id)).pipe((0,take.q)(1),(0,switchMap.w)(c=>c?(0,of.of)(c):(this.router.navigate(["/route/crisis-center"]),empty.E)))}}CrisisDetailResolverService.\u0275fac=function CrisisDetailResolverService_Factory(t){return new(t||CrisisDetailResolverService)(core.LFG(router.F0),core.LFG(CrisisService))},CrisisDetailResolverService.\u0275prov=core.Yz7({token:CrisisDetailResolverService,factory:CrisisDetailResolverService.\u0275fac,providedIn:"root"});class CrisisCenterHomeComponent{constructor(){}ngOnInit(){}}CrisisCenterHomeComponent.\u0275fac=function CrisisCenterHomeComponent_Factory(t){return new(t||CrisisCenterHomeComponent)},CrisisCenterHomeComponent.\u0275cmp=core.Xpm({type:CrisisCenterHomeComponent,selectors:[["app-crisis-center-home"]],decls:2,vars:0,template:function CrisisCenterHomeComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"p"),core._uU(1,"Welcome to the Crisis Center"),core.qZA())},styles:[""]});class CrisisCenterComponent{constructor(){}ngOnInit(){}}CrisisCenterComponent.\u0275fac=function CrisisCenterComponent_Factory(t){return new(t||CrisisCenterComponent)},CrisisCenterComponent.\u0275cmp=core.Xpm({type:CrisisCenterComponent,selectors:[["app-crisis-center"]],decls:3,vars:0,template:function CrisisCenterComponent_Template(rf,ctx){1&rf&&(core.TgZ(0,"h2"),core._uU(1,"CRISIS CENTER"),core.qZA(),core._UZ(2,"router-outlet"))},directives:[router.lC],styles:[""]});var tap=__webpack_require__(8307);class DialogService{constructor(){}confirm(msg){return(0,of.of)(window.confirm(msg||"\u786e\u8ba4\u79bb\u5f00\uff1f"))}}function CrisisDetailComponent_div_0_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div"),core.TgZ(1,"h2"),core._uU(2),core.ALo(3,"uppercase"),core.qZA(),core.TgZ(4,"div"),core.TgZ(5,"span"),core._uU(6,"id: "),core.qZA(),core._uU(7),core.qZA(),core.TgZ(8,"div"),core.TgZ(9,"label",1),core._uU(10,"crisis name: "),core.qZA(),core.TgZ(11,"input",2,3),core.NdJ("input",function CrisisDetailComponent_div_0_Template_input_input_11_listener(){core.CHM(_r4);const _r2=core.MAs(12);return core.oxw().changeValue(_r2.value)}),core.qZA(),core.qZA(),core.TgZ(13,"button",4),core.NdJ("click",function CrisisDetailComponent_div_0_Template_button_click_13_listener(){core.CHM(_r4);return core.oxw().save()}),core._uU(14,"save"),core.qZA(),core.TgZ(15,"button",4),core.NdJ("click",function CrisisDetailComponent_div_0_Template_button_click_15_listener(){core.CHM(_r4);return core.oxw().cancel()}),core._uU(16,"cancel"),core.qZA(),core.qZA()}if(2&rf){const crisis_r1=ctx.ngIf;core.xp6(2),core.hij("",core.lcZ(3,3,crisis_r1.name)," Details"),core.xp6(5),core.Oqu(crisis_r1.id),core.xp6(4),core.Q6J("value",crisis_r1.name)}}DialogService.\u0275fac=function DialogService_Factory(t){return new(t||DialogService)},DialogService.\u0275prov=core.Yz7({token:DialogService,factory:DialogService.\u0275fac,providedIn:"root"});class CrisisDetailComponent{constructor(activeRoute,crisisService,router,dialogservice){this.activeRoute=activeRoute,this.crisisService=crisisService,this.router=router,this.dialogservice=dialogservice,this.name="123456",this.editName=void 0}ngOnInit(){this.crisis$=this.activeRoute.data.pipe((0,switchMap.w)(data=>{const c=data.realCrisis;return(0,of.of)(c)}),(0,tap.b)(e=>{null!=this.editName&&e.id==this.id||(this.id=null==e?void 0:e.id,this.editName=null==e?void 0:e.name)}))}changeValue(e){this.editName=e}back(){this.crisis$.subscribe(crisis=>{this.router.navigate(["route/crisis-center",{selectedId:null==crisis?void 0:crisis.id}])})}cancel(){this.gotoCrisis()}gotoCrisis(){this.router.navigate(["/route/crisis-center"])}save(){this.crisis$.subscribe(e=>{e&&this.editName&&(e.name=this.editName,this.gotoCrisis())})}saveName(){this.crisis$.subscribe(e=>{e&&this.editName&&(console.log("savesavesave"),e.name=this.editName)}).unsubscribe()}canDeactivate(){return this.crisis$.pipe((0,switchMap.w)(crisis=>(null==crisis?void 0:crisis.name)==this.editName?(0,of.of)(!0):this.dialogservice.confirm("\u662f\u5426\u4fdd\u5b58\uff1f").pipe((0,tap.b)(flag=>flag&&this.saveName()))))}}CrisisDetailComponent.\u0275fac=function CrisisDetailComponent_Factory(t){return new(t||CrisisDetailComponent)(core.Y36(router.gz),core.Y36(CrisisService),core.Y36(router.F0),core.Y36(DialogService))},CrisisDetailComponent.\u0275cmp=core.Xpm({type:CrisisDetailComponent,selectors:[["app-crisis-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["for","crisis-name"],["id","crisis-name","placeholder","name",3,"value","input"],["inp",""],[3,"click"]],template:function CrisisDetailComponent_Template(rf,ctx){1&rf&&(core.YNc(0,CrisisDetailComponent_div_0_Template,17,5,"div",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.crisis$))},directives:[common.O5],pipes:[common.Ov,common.gd],styles:[""]});var animations=__webpack_require__(7238);function CrisisListComponent_li_5_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"li",4),core.NdJ("click",function CrisisListComponent_li_5_Template_li_click_0_listener(){const crisis_r2=core.CHM(_r4).$implicit;return core.oxw().onSelect(crisis_r2)}),core.TgZ(1,"span",5),core._uU(2),core.qZA(),core._uU(3),core.qZA()}if(2&rf){const crisis_r2=ctx.$implicit,ctx_r1=core.oxw();core.ekj("selected",crisis_r2.id===ctx_r1.selectedId),core.xp6(2),core.Oqu(crisis_r2.id),core.xp6(1),core.hij(" ",crisis_r2.name," ")}}class CrisisListComponent{constructor(crisisService,messageService,router,activeRoute){this.crisisService=crisisService,this.messageService=messageService,this.router=router,this.activeRoute=activeRoute,this.animation3=!0,this.total=-1,this.isOpen=!0}ngOnInit(){this.getCrisises(),this.activeRoute.paramMap.subscribe(paramMap=>{this.selectedId=Number(paramMap.get("selectedId"))})}showAnimationEvent(e){console.log(e)}search(v){v=v.trim(),this.crisisService.getCrisises().pipe((0,switchMap.w)(arr=>{let newArr=arr.filter(e=>e.name.toUpperCase().includes(v.toUpperCase()));return(0,of.of)(newArr)})).subscribe(arr=>{this.crisess$=arr,this.total=arr.length})}onSelect(crisis){this.selectedCrisis=crisis,this.messageService.add(`CrisisesComponent: Selected crisis id=${crisis.id}`),this.router.navigate(["../crisis-center",crisis.id],{relativeTo:this.activeRoute})}getCrisises(){this.crisisService.getCrisises().subscribe(arr=>{this.crisess$=arr,this.total=arr.length})}}CrisisListComponent.\u0275fac=function CrisisListComponent_Factory(t){return new(t||CrisisListComponent)(core.Y36(CrisisService),core.Y36(MessageService),core.Y36(router.F0),core.Y36(router.gz))},CrisisListComponent.\u0275cmp=core.Xpm({type:CrisisListComponent,selectors:[["app-crises"]],hostVars:1,hostBindings:function CrisisListComponent_HostBindings(rf,ctx){2&rf&&core.d8E("@animation3",ctx.animation3)},decls:7,vars:2,consts:[["type","text","placeholder","\u68c0\u7d22\u82f1\u96c4",3,"input"],["inp",""],[1,"heroes"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"],[1,"badge"]],template:function CrisisListComponent_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"h2"),core._uU(1,"\u52a8\u753b\u662f\u5728\u4e00\u4e2a\u53d8\u66f4\u5468\u671f\u5185\u6267\u884c"),core.qZA(),core.TgZ(2,"input",0,1),core.NdJ("input",function CrisisListComponent_Template_input_input_2_listener(){core.CHM(_r5);const _r0=core.MAs(3);return ctx.search(_r0.value)}),core.qZA(),core.TgZ(4,"ul",2),core.NdJ("@totalChange.start",function CrisisListComponent_Template_ul_animation_totalChange_start_4_listener($event){return ctx.showAnimationEvent($event)})("@totalChange.done",function CrisisListComponent_Template_ul_animation_totalChange_done_4_listener($event){return ctx.showAnimationEvent($event)}),core.YNc(5,CrisisListComponent_li_5_Template,4,4,"li",3),core.qZA(),core._UZ(6,"router-outlet")}2&rf&&(core.xp6(4),core.Q6J("@totalChange",ctx.total),core.xp6(1),core.Q6J("ngForOf",ctx.crisess$))},directives:[common.sg,router.lC],styles:[".heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:23em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#2c3a41;background-color:#e6e6e6;left:.1em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active{background-color:#525252;color:#fafafa}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#000;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#505050;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:active{background-color:#000;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"],data:{animation:[(0,animations.X$)("animation3",[(0,animations.eR)(":enter",[(0,animations.IO)("li,input",[(0,animations.oB)({transform:"translateY(-50px)",opacity:"0"}),(0,animations.EY)(30,(0,animations.jt)("300ms ease-out",(0,animations.oB)({transform:"*",opacity:"*"})))])])]),(0,animations.X$)("totalChange",[(0,animations.eR)(":increment",[(0,animations.IO)(":enter",[(0,animations.oB)({width:"0px",opacity:"0"}),(0,animations.EY)(30,(0,animations.jt)("300ms ease-out",(0,animations.oB)({width:"*",opacity:"*"})))],{optional:!0})]),(0,animations.eR)(":decrement",[(0,animations.IO)(":leave",[(0,animations.oB)({width:"*",opacity:"*"}),(0,animations.EY)(30,(0,animations.jt)("300ms ease-out",(0,animations.oB)({width:"0",opacity:"0"})))])])])]}});const routes=[{path:"",component:CrisisCenterComponent,children:[{path:"",component:CrisisListComponent,data:{animation:"CrisisList"},children:[{path:":id",component:CrisisDetailComponent,canDeactivate:[auth_guard.a],resolve:{realCrisis:CrisisDetailResolverService}},{path:"",component:CrisisCenterHomeComponent}]}]}];class CrisisCenterRoutingModule{}CrisisCenterRoutingModule.\u0275fac=function CrisisCenterRoutingModule_Factory(t){return new(t||CrisisCenterRoutingModule)},CrisisCenterRoutingModule.\u0275mod=core.oAB({type:CrisisCenterRoutingModule}),CrisisCenterRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class CrisisCenterModule{}CrisisCenterModule.\u0275fac=function CrisisCenterModule_Factory(t){return new(t||CrisisCenterModule)},CrisisCenterModule.\u0275mod=core.oAB({type:CrisisCenterModule}),CrisisCenterModule.\u0275inj=core.cJS({imports:[[common.ez,CrisisCenterRoutingModule]]})}};