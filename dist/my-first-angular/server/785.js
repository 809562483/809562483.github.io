exports.id=785,exports.ids=[785],exports.modules={8785:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HttpModule:()=>HttpModule});var common=__webpack_require__(8583),router=__webpack_require__(4096),Subject=__webpack_require__(9765),delay=__webpack_require__(1289),Subscriber=__webpack_require__(7393),scheduler_async=__webpack_require__(3637);class DebounceTimeOperator{constructor(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))}}class DebounceTimeSubscriber extends Subscriber.L{constructor(destination,dueTime,scheduler){super(destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:lastValue}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(lastValue)}}clearDebounce(){const debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)}}function dispatchNext(subscriber){subscriber.debouncedNext()}class DistinctUntilChangedOperator{constructor(compare,keySelector){this.compare=compare,this.keySelector=keySelector}call(subscriber,source){return source.subscribe(new DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))}}class DistinctUntilChangedSubscriber extends Subscriber.L{constructor(destination,compare,keySelector){super(destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}compare(x,y){return x===y}_next(value){let key;try{const{keySelector:keySelector}=this;key=keySelector?keySelector(value):value}catch(err){return this.destination.error(err)}let result=!1;if(this.hasKey)try{const{compare:compare}=this;result=compare(this.key,key)}catch(err){return this.destination.error(err)}else this.hasKey=!0;result||(this.key=key,this.destination.next(value))}}var tap=__webpack_require__(8307),fesm2015_forms=__webpack_require__(665),core=__webpack_require__(8720),throwError=__webpack_require__(205);class RetryOperator{constructor(count,source){this.count=count,this.source=source}call(subscriber,source){return source.subscribe(new RetrySubscriber(subscriber,this.count,this.source))}}class RetrySubscriber extends Subscriber.L{constructor(destination,count,source){super(destination),this.count=count,this.source=source}error(err){if(!this.isStopped){const{source:source,count:count}=this;if(0===count)return super.error(err);count>-1&&(this.count=count-1),source.subscribe(this._unsubscribeAndRecycle())}}}var catchError=__webpack_require__(5304),http=__webpack_require__(1841),ngx_cookie_service=__webpack_require__(1584);class HttpClientService{constructor(http,cookie){this.http=http,this.cookie=cookie,this.configUrl="http://localhost:3000/test",this.configJsonpUrl="http://localhost:3000/jsonp",this.postUrl="http://localhost:3000/post",this.loginUrl="http://localhost:3000/login",this.loginoutUrl="http://localhost:3000/loginout",this.options={observe:"body",responseType:"json",params:{name:"zhangsan",age:88}}}handlerError(error){return 0==error.status?console.error("An error occurred:",error.error):console.error(`Backend returned code ${error.status}, body was: ${error.error}`),(0,throwError._)("Something bad happened; please try again later.")}getConfig(){return this.http.get(this.configUrl,this.options)}getConfigResponse(){return this.http.get(this.configUrl,{reportProgress:!0,responseType:"text",observe:"response",params:{name:"zhangsan",age:99},headers:{Authorization:"my-auth-token"}})}getConfigByJsonp(){return this.http.jsonp(this.configJsonpUrl,"cbk").pipe(function retry(count=-1){return source=>source.lift(new RetryOperator(count,source))}(3),(0,catchError.K)(this.handlerError))}postTest(){return this.http.post(this.postUrl,{name:"helei",age:18},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}postFile(file){let fm=new FormData;return fm.append("value",file,"\u4e0a\u4f20\u6587\u4ef6"),this.http.post(this.postUrl,fm,{withCredentials:!0,observe:"events",reportProgress:!0,headers:{"Content-Type":"multipart/form-data"}})}login(){return this.http.get(this.loginUrl,{withCredentials:!0,observe:"events",reportProgress:!0,headers:{"Content-Type":"multipart/form-data"}})}loginout(){return this.http.get(this.loginoutUrl,{withCredentials:!0,observe:"events",reportProgress:!0,headers:{"Content-Type":"multipart/form-data"}})}}HttpClientService.\u0275fac=function HttpClientService_Factory(t){return new(t||HttpClientService)(core.LFG(http.eN),core.LFG(ngx_cookie_service.N))},HttpClientService.\u0275prov=core.Yz7({token:HttpClientService,factory:HttpClientService.\u0275fac,providedIn:"root"});class HttpComponent{constructor($http){this.$http=$http,this.search$=new Subject.xQ,this.width="0%",this.fileControl=new fesm2015_forms.NI,this.$http.getConfig().pipe((0,delay.g)(2e3)).subscribe(e=>{this.config={age:e.age,date:e.date,heroesUrl:e.heroesUrl,name:e.name,textfile:e.textfile}}),this.$http.getConfigResponse().subscribe(e=>{})}ngOnInit(){this.search$.pipe(function debounceTime(dueTime,scheduler=scheduler_async.P){return source=>source.lift(new DebounceTimeOperator(dueTime,scheduler))}(500),function distinctUntilChanged(compare,keySelector){return source=>source.lift(new DistinctUntilChangedOperator(compare,keySelector))}(),(0,tap.b)(e=>{console.log(e)})).subscribe()}clickHandler(){this.$http.getConfigResponse().subscribe(e=>{})}fileHandler(e){var _a,_b;console.log(null===(_a=e.files)||void 0===_a?void 0:_a.item(0)),this.$http.postFile(null===(_b=e.files)||void 0===_b?void 0:_b.item(0)).pipe((0,tap.b)(e=>{var _a;1==e.type&&(this.width=e.loaded/(null!==(_a=e.total)&&void 0!==_a?_a:0)*100+"%")})).subscribe()}search(e){this.search$.next(e.target.value)}login(){this.$http.login().subscribe()}loginout(){this.$http.loginout().subscribe()}}HttpComponent.\u0275fac=function HttpComponent_Factory(t){return new(t||HttpComponent)(core.Y36(HttpClientService))},HttpComponent.\u0275cmp=core.Xpm({type:HttpComponent,selectors:[["app-http"]],decls:39,vars:7,consts:function(){let i18n_0,i18n_2,i18n_4;return i18n_0=$localize`:A sample:Hello i18n!`,i18n_2=$localize`I don't output any element`,i18n_4=$localize`Angular logo`,[[3,"click"],["type","file","name","file","id","file",3,"formControl"],["inp",""],[1,"box"],[1,"progress"],["type","text","placeholder","search",3,"keyup"],i18n_0,i18n_2,["src","","title",i18n_4],["src","assets/icons/icon-96x96.png","alt","96*96"]]},template:function HttpComponent_Template(rf,ctx){if(1&rf){const _r1=core.EpF();core.TgZ(0,"h2"),core._uU(1,"http works!"),core.qZA(),core.TgZ(2,"h3"),core._uU(3),core.qZA(),core.TgZ(4,"div"),core._uU(5,"\u767b\u5f55: "),core.TgZ(6,"button",0),core.NdJ("click",function HttpComponent_Template_button_click_6_listener(){return ctx.login()}),core._uU(7,"\u767b\u5f55"),core.qZA(),core.qZA(),core.TgZ(8,"div"),core._uU(9,"\u767b\u51fa: "),core.TgZ(10,"button",0),core.NdJ("click",function HttpComponent_Template_button_click_10_listener(){return ctx.loginout()}),core._uU(11,"\u767b\u51fa"),core.qZA(),core.qZA(),core.TgZ(12,"button",0),core.NdJ("click",function HttpComponent_Template_button_click_12_listener(){return ctx.clickHandler()}),core._uU(13,"\u53d1\u9001\u8bf7\u6c42"),core.qZA(),core._UZ(14,"input",1,2),core.TgZ(16,"button",0),core.NdJ("click",function HttpComponent_Template_button_click_16_listener(){core.CHM(_r1);const _r0=core.MAs(15);return ctx.fileHandler(_r0)}),core._uU(17,"\u4e0a\u4f20\u6587\u4ef6"),core.qZA(),core._UZ(18,"hr"),core.TgZ(19,"div",3),core._UZ(20,"div",4),core.qZA(),core._UZ(21,"hr"),core._uU(22,"\n\u67e5\u8be2\u6846: "),core.TgZ(23,"input",5),core.NdJ("keyup",function HttpComponent_Template_input_keyup_23_listener($event){return ctx.search($event)}),core.qZA(),core.TgZ(24,"div"),core.TgZ(25,"h4"),core._uU(26,"\u672c\u5730\u5316eeee"),core.qZA(),core.TgZ(27,"p"),core._uU(28),core.ALo(29,"currency"),core.qZA(),core.TgZ(30,"h1"),core.SDv(31,6),core.qZA(),core.ynx(32),core.SDv(33,7),core.BQk(),core._UZ(34,"img",8),core.qZA(),core.TgZ(35,"div"),core.TgZ(36,"h1"),core._uU(37,"Hello,Service Worker"),core.qZA(),core._UZ(38,"img",9),core.qZA()}2&rf&&(core.xp6(3),core.hij(" ",ctx.config,"\n"),core.xp6(11),core.Q6J("formControl",ctx.fileControl),core.xp6(6),core.Udp("width",ctx.width),core.xp6(8),core.hij("A: ",core.lcZ(29,5,18.8),""))},directives:[fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.oH],pipes:[common.H9],styles:[".box[_ngcontent-%COMP%]{width:100px;height:8px;border:2px solid #6060d3;border-radius:3px;text-align:center;position:relative}.progress[_ngcontent-%COMP%]{width:50%;background-color:cyan;height:100%}"]});const routes=[{path:"",component:HttpComponent}];class HttpRoutingModule{}HttpRoutingModule.\u0275fac=function HttpRoutingModule_Factory(t){return new(t||HttpRoutingModule)},HttpRoutingModule.\u0275mod=core.oAB({type:HttpRoutingModule}),HttpRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});class HttpModule{}HttpModule.\u0275fac=function HttpModule_Factory(t){return new(t||HttpModule)},HttpModule.\u0275mod=core.oAB({type:HttpModule}),HttpModule.\u0275inj=core.cJS({providers:[[ngx_cookie_service.N]],imports:[[common.ez,fesm2015_forms.UX,fesm2015_forms.u5,HttpRoutingModule,http.JF,http.PD.withOptions({cookieName:"My-Xsrf-Cookie",headerName:"My-Xsrf-Header"})]]})}};